---
import Section from "./Section.astro";
import type { ExperienceProps } from "@types";

interface Props {
  experience: ExperienceProps[];
}

const { experience } = Astro.props;
---

<Section text="Work Experience" href="experience">
  {
    experience.map(({ company, position, startDate, endDate, summary }) => (
     <div class="relative mb-12 overflow-hidden rounded-2xl border border-base-200 bg-base-100/90 p-6 shadow-md backdrop-blur-md transition hover:shadow-lg">
  <!-- Vertical Timeline Marker -->
  <div class="absolute left-4 top-6 h-4 w-4 rounded-full bg-primary shadow-sm ring-2 ring-base-100"></div>

  <!-- Main Grid Layout -->
  <div class="grid grid-cols-1 md:grid-cols-[auto_1fr] gap-x-5 pl-10">
    <!-- Date Section -->
    <div class="mb-4 text-sm text-base-content/60 font-medium md:mb-0 md:text-end">
      <div>{startDate}</div>
      <div class="opacity-70">â€” {endDate}</div>
    </div>

    <!-- Content -->
    <div>
      <h3 class="text-2xl font-serif font-bold text-base-content tracking-tight mb-1">
        {company}
      </h3>

      <h4 class="text-lg font-serif font-semibold text-primary mb-3">
        {position}
      </h4>

      {Array.isArray(summary) ? (
        <ul class="space-y-3">
          {summary.map((log) => (
            <li class="relative pl-8 text-base leading-relaxed text-base-content/80 before:absolute before:left-0 before:top-1.5 before:h-5 before:w-5 before:bg-no-repeat before:content-[url('/check.svg')]">
              {log}
            </li>
          ))}
        </ul>
      ) : (
        <p class="text-base leading-relaxed text-base-content/80">
          {summary}
        </p>
      )}
    </div>
  </div>
</div>

    ))
  }
</Section>
